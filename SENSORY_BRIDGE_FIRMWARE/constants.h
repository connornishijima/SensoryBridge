#define DEBUG_MODE 1 // Check serial port after enabling this

#define SAMPLE_RATE 12558
#define I2S_PORT I2S_NUM_0

#define PHOTONS_PIN 1
#define CHROMA_PIN  2
#define MOOD_PIN    3

// I2S pins
#define I2S_BCLK_PIN   33
#define I2S_LRCLK_PIN  34
#define I2S_DIN_PIN    35

#define LED_DATA_PIN   36
#define LED_CLOCK_PIN  37

#define RNG_SEED_PIN   10

#define NOISE_CAL_PIN  11
#define MODE_PIN       45

#define NUM_ZONES 4

#define FREQUENCY_HOP 1
#define SAMPLES_PER_CHUNK 192
#define SAMPLE_HISTORY_LENGTH 8192

#define TWOPI   6.28318530
#define FOURPI 12.56637061
#define SIXPI  18.84955593

#define NUM_FREQS 64
const float notes[NUM_FREQS] = {
  //55.00000, 58.27047, 61.73541, 65.40639, 69.29566, 73.41619, 77.78175, 82.40689, 87.30706, 92.49861, 97.99886, 103.8262,
  110.0000, 116.5409, 123.4708, 130.8128, 138.5913, 146.8324, 155.5635, 164.8138, 174.6141, 184.9972, 195.9977, 207.6523,
  220.0000, 233.0819, 246.9417, 261.6256, 277.1826, 293.6648, 311.1270, 329.6276, 349.2282, 369.9944, 391.9954, 415.3047,
  440.0000, 466.1638, 493.8833, 523.2511, 554.3653, 587.3295, 622.2540, 659.2551, 698.4565, 739.9888, 783.9909, 830.6094,
  880.0000, 932.3275, 987.7666, 1046.502, 1108.731, 1174.659, 1244.508, 1318.510, 1396.913, 1479.978, 1567.982, 1661.219,
  1760.000, 1864.655, 1975.533, 2093.005, 2217.461, 2349.318, 2489.016, 2637.020, 2793.825, 2959.956, 3135.964, 3322.437,
  3520.000, 3729.310, 3951.065, 4186.009
  
  //4434.922, 4698.636, 4978.032, 5274.041, 5587.652, 5919.911, 6271.927, 6644.875,
  //7040.000, 7458.620, 7902.130, 8372.018, 8869.844, 9397.272, 9956.064, 10548.08, 11175.30, 11839.82, 12543.85, 13289.75,
  //14080.00, 14917.24, 15804.26, 16744.03, 17739.68, 18794.54, 19912.12, 21096.16, 22350.60, 23679.64, 25087.70, 26579.50
};

const uint8_t musical_scales[24][12] = {
  // MAJOR
  //        A # B C # D # E F # G #
  /* C  */ {1,0,1,1,0,1,0,1,1,0,1,0},
  /* C# */ {0,1,0,1,1,0,1,0,1,1,0,1},
  /* D */  {1,0,1,0,1,1,0,1,0,1,1,0},
  /* D# */ {0,1,0,1,0,1,1,0,1,0,1,1},
  /* E  */ {1,0,1,0,1,0,1,1,0,1,0,1},
  /* F  */ {1,1,0,1,0,1,0,1,1,0,1,0},
  /* F# */ {0,1,1,0,1,0,1,0,1,1,0,1},
  /* G  */ {1,0,1,1,0,1,0,1,0,1,1,0},
  /* G# */ {0,1,0,1,1,0,1,0,1,0,1,1},
  /* A  */ {1,0,1,0,1,1,0,1,0,1,0,1},
  /* A# */ {1,1,0,1,0,1,1,0,1,0,1,0},
  /* B  */ {0,1,1,0,1,0,1,1,0,1,0,1},

  // MINOR
  //        A # B C # D # E F # G #
  /* C  */ {0,1,0,1,0,1,1,0,1,0,1,1},
  /* C# */ {1,0,1,0,1,0,1,1,0,1,0,1},
  /* D */  {1,1,0,1,0,1,0,1,1,0,1,0},
  /* D# */ {0,1,1,0,1,0,1,0,1,1,0,1},
  /* E  */ {1,0,1,1,0,1,0,1,0,1,1,0},
  /* F  */ {0,1,0,1,1,0,1,0,1,0,1,1},
  /* F# */ {1,0,1,0,1,1,0,1,0,1,0,1},
  /* G  */ {1,1,0,1,0,1,1,0,1,0,1,0},
  /* G# */ {0,1,1,0,1,0,1,1,0,1,0,1},
  /* A  */ {1,0,1,1,0,1,0,1,1,0,1,0},
  /* A# */ {0,1,0,1,1,0,1,0,1,1,0,1},
  /* B  */ {1,0,1,0,1,1,0,1,0,1,1,0}
};

CRGB incandecsent_lookup[128] = {
  CRGB(0, 0, 0), CRGB(0, 0, 0), CRGB(0, 0, 0), CRGB(1, 0, 0), CRGB(1, 0, 0), CRGB(2, 0, 0), CRGB(2, 0, 0), CRGB(3, 0, 0), CRGB(4, 0, 0), CRGB(4, 0, 0), CRGB(6, 0, 0), CRGB(6, 0, 0), CRGB(7, 0, 0), CRGB(7, 0, 0), CRGB(9, 0, 0), CRGB(11, 2, 0), CRGB(11, 2, 0), CRGB(11, 2, 0), CRGB(12, 2, 0), CRGB(12, 2, 0), CRGB(13, 2, 0), CRGB(14, 2, 0), CRGB(14, 2, 0), CRGB(14, 2, 0), CRGB(15, 2, 0), CRGB(15, 3, 0), CRGB(16, 3, 0), CRGB(17, 3, 0), CRGB(17, 3, 0), CRGB(18, 3, 0), CRGB(18, 3, 0), CRGB(19, 4, 0), CRGB(20, 4, 0), CRGB(20, 4, 0), CRGB(21, 4, 0), CRGB(22, 5, 0), CRGB(23, 5, 0), CRGB(23, 5, 0), CRGB(25, 5, 0), CRGB(25, 6, 0), CRGB(26, 6, 0), CRGB(27, 6, 0), CRGB(28, 6, 0), CRGB(28, 7, 0), CRGB(30, 7, 0), CRGB(31, 8, 0), CRGB(32, 8, 0), CRGB(33, 8, 0), CRGB(33, 8, 0), CRGB(34, 9, 0), CRGB(36, 9, 0), CRGB(37, 10, 0), CRGB(38, 10, 0), CRGB(39, 11, 0), CRGB(40, 11, 0), CRGB(42, 11, 0), CRGB(43, 12, 0), CRGB(44, 13, 0), CRGB(45, 13, 0), CRGB(47, 13, 0), CRGB(48, 14, 0), CRGB(50, 15, 0), CRGB(51, 15, 0), CRGB(53, 16, 0), CRGB(54, 16, 0), CRGB(56, 17, 0), CRGB(57, 18, 0), CRGB(59, 19, 0), CRGB(60, 19, 0), CRGB(63, 20, 0), CRGB(64, 21, 0), CRGB(66, 22, 0), CRGB(68, 22, 0), CRGB(70, 23, 0), CRGB(72, 24, 0), CRGB(74, 25, 1), CRGB(76, 26, 1), CRGB(77, 26, 1), CRGB(79, 28, 1), CRGB(82, 29, 1), CRGB(84, 30, 1), CRGB(86, 31, 2), CRGB(88, 32, 2), CRGB(91, 33, 2), CRGB(93, 34, 2), CRGB(95, 35, 3), CRGB(98, 37, 3), CRGB(101, 38, 3), CRGB(102, 39, 4), CRGB(105, 40, 4), CRGB(108, 42, 5), CRGB(111, 43, 5), CRGB(113, 44, 6), CRGB(117, 46, 6), CRGB(120, 47, 7), CRGB(123, 49, 8), CRGB(125, 50, 8), CRGB(128, 52, 9), CRGB(132, 53, 10), CRGB(136, 56, 11), CRGB(137, 57, 11), CRGB(141, 59, 12), CRGB(145, 60, 13), CRGB(149, 63, 14), CRGB(152, 64, 14), CRGB(155, 66, 15), CRGB(158, 68, 16), CRGB(163, 69, 17), CRGB(167, 71, 18), CRGB(171, 75, 20), CRGB(175, 77, 21), CRGB(179, 78, 23), CRGB(182, 81, 23), CRGB(186, 83, 25), CRGB(190, 85, 26), CRGB(195, 89, 28), CRGB(199, 91, 30), CRGB(204, 93, 30), CRGB(209, 95, 33), CRGB(214, 99, 35), CRGB(218, 99, 35), CRGB(223, 100, 35), CRGB(229, 105, 35), CRGB(234, 106, 37), CRGB(239, 107, 38), CRGB(244, 110, 38), CRGB(250, 111, 39), CRGB(255, 114, 40)
};
